<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WinWithWeb - GST Solutions</title>
    <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" th:href="@{/css/iofrm-style.css}">
    <link rel="stylesheet" th:href="@{/css/iofrm-theme15.css}">
</head>

<body>
    <div class="form-body">
        <div class="website-logo">
            <a href="https://winwithweb.in" target="_blank">
                    <img class="logo-size" th:src="@{/images/logo-light.png}" alt="">
            </a>
        </div>
        <div class="row">
            <div class="img-holder">
                <div class="bg"></div>
                <div class="info-holder">
                    <h3>Get more things done with Loggin platform.</h3>
                    <p>Access to the most powerfull tool in the entire design and web industry.<br><br>
                        Nam libero tempore, cum soluta nobis est eligendi optio cumque nihil impedit quo minus id quod maxime placeat facere possimus, omnis voluptas assumenda est, omnis dolor repellendus.</p>
                </div>
            </div>
           <div class="form-holder">
                <div class="form-content form-sm">
                    <div class="form-items">
                        <h3 class="form-title">Add An Payment</h3>
                         <div th:if="${message}" th:text="${message}"
					class="alert alert-info"></div>
                        <form autocomplete="off" th:action="@{/home}"
							th:object="${payment}" method="post" class="form-horizontal"
							role="form">
							
                            <div class="form-group">
                                <label>Payment Information</label>
                                <input type="text" class="form-control" name="name" th:field="*{paymentNumber}" placeholder="payment Number" required>                                
                            </div>
                            <div class="form-group">
                                 <label>Account Name</label>
                                
                                <select th:field="*{accountName}" id="selectbasic" name="selectbasic">
							<option th:each="account : ${accountList}" th:value="${account}" th:text="${account}"></option>
						</select>
						
                                <div class="form-row">
                                    <div class="col">
                                        <input type="text" id="gstin" class="form-control" th:field="*{gstin}" placeholder="GST Number" readonly="readonly" required >
                                        <label th:if="${#fields.hasErrors('gstin')}" th:errors="*{gstin}" class="validation-message"></label>
                                        
                                    </div>
                                    <div class="col">
                                        <input type="text" class="form-control"  th:field="*{accountPan}" placeholder="PAN" readonly="readonly" required>
                                        <label th:if="${#fields.hasErrors('accountPan')}" th:errors="*{accountPan}" class="validation-message"></label>
                                        
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <label>Address</label>
                                <textarea class="form-control" th:field="*{accountAddress}" readonly="readonly" required></textarea>
                            </div>
                            
                
                            
                            <div class="form-button text-right">
                                    <button type="reset" class="btn btn-light">Reset</button><button id="submit" type="submit" class="ibtn">Save</button>
                                    
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
<script type="text/javascript" th:src="@{/js/jquery.min.js}"></script>
<script type="text/javascript" th:src="@{/js/popper.min.js}"></script>
<script type="text/javascript" th:src="@{/js/bootstrap.min.js}"></script>

<script type="text/javascript">
$(document).ready(function() {
	$("#selectbasic").change(function() {
		getGstin();
	});
});

function getGstin() {
	var accountNbr = $("#selectbasic").val();
	
	$.ajax({
		type : "GET",
		contentType : "application/json",
		url : "getGstinData?accountNbr=" + accountNbr,
		dataType : 'json',				
		success : function(data) {
		    var gstin = document.getElementById('gstin');
		    gstin.value = data;
		}
		});
};
</script>

</body>
</html>